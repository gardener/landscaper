#!/bin/bash

# SPDX-FileCopyrightText: 2023 SAP SE or an SAP affiliate company and Gardener contributors
#
# SPDX-License-Identifier: Apache-2.0

set -o errexit
set -o nounset
set -o pipefail

echo "component descriptor dummy step"

VERSION="$(${SOURCE_PATH}/hack/get-version.sh)"
REPO_CTX="eu.gcr.io/gardener-project/development"

COMPONENT_DESCRIPTOR="
meta:
  schemaVersion: v2
component:
  name: github.com/gardener/landscaper
  version: ${VERSION}-dummy
  provider: internal
  repositoryContexts:
  - baseUrl: ${REPO_CTX}
    componentNameMapping: urlPath
    type: ociRegistry
  componentReferences: []
  resources: []
  sources: []
"

echo ${COMPONENT_DESCRIPTOR} > ${COMPONENT_DESCRIPTOR_DIR}/component_descriptor_v2

